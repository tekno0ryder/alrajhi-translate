(this["webpackJsonptranslate-file"]=this["webpackJsonptranslate-file"]||[]).push([[0],{16:function(e,_,t){"use strict";t.d(_,"a",(function(){return l})),t.d(_,"b",(function(){return i}));var r=t(3),a=t(11),n=t.n(a),s=function(e,_,t,r){var a,n,s;(e[_]=null!==(a=e[_])&&void 0!==a?a:{},t)&&(e[_][t]=null!==(n=e[_][t])&&void 0!==n?n:{});r&&(e[_][t][r]=null!==(s=e[_][t][r])&&void 0!==s?s:{})},c=function(e,_,t,r){return t?r?(console.log("inside key2",e[_][t]?e[_][t][r]:""),e[_]&&e[_][t]?e[_][t][r]:""):e[_]?e[_][t]:"":e[_]},l=function(e,_){console.log("Start Mapping inputObject",_);for(var t={},a=n.a.cloneDeep(_),c=0,l=Object.entries(e);c<l.length;c++){var i,o,b=Object(r.a)(l[c],2),u=b[0],j=b[1];if("en"in j)if(a[u])a[u]=null!==(i=j.ar)&&void 0!==i?i:j.en;else t[u]=null!==(o=j.ar)&&void 0!==o?o:j.en;else for(var O=0,d=Object.entries(j);O<d.length;O++){var p,m,E=Object(r.a)(d[O],2),x=E[0],f=E[1];if("en"in f)if(s(a,u),a[u][x])a[u][x]=null!==(p=f.ar)&&void 0!==p?p:f.en;else s(t,u),t[u][x]=null!==(m=f.ar)&&void 0!==m?m:f.en;else for(var h=0,P=Object.entries(f);h<P.length;h++){var D,M,C=Object(r.a)(P[h],2),g=C[0],W=C[1];if(s(a,u,x),a[u][x][g])a[u][x][g]=null!==(D=W.ar)&&void 0!==D?D:W.ar;else s(t,u,x),t[u][x][g]=null!==(M=W.ar)&&void 0!==M?M:f.en}}}return console.log("result",a),console.log("not found",t),{inputObjectCopy:a,excelOnlyOutput:t}},i=function(e,_){var t,a=[];a.push([{value:"Service",fontWeight:"bold"},{value:"Key",fontWeight:"bold"},{value:"English",fontWeight:"bold",align:"left"},{value:"Arabic",fontWeight:"bold",align:"right"}]);for(var n,s=function(e,_,r,n){var s=e!==t;s&&(t=e);var c=[s?{value:e,wrap:!0,fontWeight:"bold"}:{value:""},{value:_},{value:r},{value:n}];a.push(c)},l=0,i=Object.entries(e);l<i.length;l++){var o=Object(r.a)(i[l],2),b=o[0],u=o[1];if("string"===typeof u)s("",b,u,n=c(_,b));else for(var j=0,O=Object.entries(u);j<O.length;j++){var d=Object(r.a)(O[j],2),p=d[0],m=d[1];if("string"===typeof m)s(b,p,m,n=c(_,b,p));else for(var E=0,x=Object.entries(m);E<x.length;E++){var f=Object(r.a)(x[E],2),h=f[0],P=f[1];n=c(_,b,p,h),s("".concat(b,".").concat(p),h,P,n)}}}return console.log(a),a}},20:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),react_hook_form__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__),Step2=function Step2(_ref){var setInputObject=_ref.setInputObject,_useForm=Object(react_hook_form__WEBPACK_IMPORTED_MODULE_4__.a)(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,_useForm$formState=_useForm.formState,errors=_useForm$formState.errors,isSubmitting=_useForm$formState.isSubmitting,onSubmit=function(){var _ref3=Object(C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(_ref2){var inputObject,en;return C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:inputObject=_ref2.inputObject;try{eval("en ="+inputObject),setInputObject(en)}catch(e){console.log(e),alert(e)}case 2:case"end":return _context.stop()}}),_callee)})));return function(e){return _ref3.apply(this,arguments)}}();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("h2",{children:"Step 2: Input JS Object"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("code",{children:"let en = "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("form",{onSubmit:handleSubmit(onSubmit),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("textarea",Object(C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({defaultValue:"{}",rows:30},register("inputObject",{required:!0}))),errors.inputObject&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"This field is required"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("input",{type:"submit",disabled:isSubmitting})]})]})};__webpack_exports__.a=Step2},21:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectDestructuringEmpty__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),react_hook_form__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(12),_Util_mapping__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(16),write_excel_file__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(44),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__),Step1=function Step1(_ref){Object(C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectDestructuringEmpty__WEBPACK_IMPORTED_MODULE_3__.a)(_ref);var _useForm=Object(react_hook_form__WEBPACK_IMPORTED_MODULE_5__.a)(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,_useForm$formState=_useForm.formState,errors=_useForm$formState.errors,isSubmitting=_useForm$formState.isSubmitting,onSubmit=function(){var _ref3=Object(C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(_ref2){var enInput,arInput,en,ar,mapped;return C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return enInput=_ref2.enInput,arInput=_ref2.arInput,_context.prev=1,en={},ar={},eval("en = ".concat(enInput,"; ar = ").concat(arInput)),mapped=Object(_Util_mapping__WEBPACK_IMPORTED_MODULE_6__.b)(en,ar),_context.next=8,Object(write_excel_file__WEBPACK_IMPORTED_MODULE_7__.a)(mapped,{fileName:"JSToExcel.xlsx"});case 8:_context.next=14;break;case 10:_context.prev=10,_context.t0=_context.catch(1),console.log(_context.t0),alert(_context.t0);case 14:case"end":return _context.stop()}}),_callee,null,[[1,10]])})));return function(e){return _ref3.apply(this,arguments)}}();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("h2",{children:"Step 1: Input JS Objects"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("form",{onSubmit:handleSubmit(onSubmit),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("code",{children:"let en = "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("textarea",Object(C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({defaultValue:"{}",rows:30},register("enInput",{required:!0}))),errors.en&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{children:"This field is required"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("code",{children:"let ar = "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("textarea",Object(C_Users_aalsinan_WebstormProjects_translate_file_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({defaultValue:"{}",rows:30},register("arInput"))),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("input",{type:"submit",disabled:isSubmitting})]})]})};__webpack_exports__.a=Step1},28:function(e,_,t){},29:function(e,_,t){},43:function(e,_,t){"use strict";t.r(_);var r=t(1),a=t.n(r),n=t(19),s=t.n(n),c=(t(28),t(29),t(30),t(8)),l=t(3),i=t(2),o=t.n(i),b=t(5),u=t(6),j=t(4),O=t(7),d=t(47),p=t(12),m=t(11),E=t.n(m),x=t(0),f=function(e){var _=e.setExcel,t=Object(p.a)(),r=t.register,a=t.handleSubmit,n=t.formState,s=n.errors,c=n.isSubmitting,l=function(e){var _,t,r,a={},n=Object(O.a)(e);try{for(n.s();!(r=n.n()).done;){var s=r.value,c=s.category;if(c){var l=c.split(".");2===l.length?(_=l[0],t=l[1]):(_=c,t=null)}s.key&&(_&&t?a[_][t]=Object(j.a)(Object(j.a)({},a[_][t]),{},Object(u.a)({},s.key,{en:s.en,ar:s.ar})):_?a[_]=Object(j.a)(Object(j.a)({},a[_]),{},Object(u.a)({},s.key,{en:s.en,ar:s.ar})):a[s.key]=Object(j.a)(Object(j.a)({},a[s.key]),{},{en:s.en,ar:s.ar}))}}catch(i){n.e(i)}finally{n.f()}return a},i=function(){var e=Object(b.a)(o.a.mark((function e(t){var r,a,n,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(j.a)((r={},Object(u.a)(r,t.key,"key"),Object(u.a)(r,t.en,"en"),Object(u.a)(r,t.ar,"ar"),r),t.category&&Object(u.a)({},t.category,"category")),n=parseInt(t.sheet),e.next=5,Object(d.a)(t.file[0],{map:a,sheet:Object(m.isNaN)(n)?t.sheet:n});case 5:if(!(s=e.sent).errors.length){e.next=8;break}throw s.errors;case 8:console.log("parsed",s),c=l(s.rows),console.log("postProcessed",c),_(c),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),alert(e.t0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(_){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Step 1: Excel File"}),Object(x.jsx)("form",{onSubmit:a(i),children:Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("legend",{children:"Data"}),Object(x.jsx)("label",{htmlFor:"sheet",children:"Sheet: "}),Object(x.jsx)("input",Object(j.a)({type:"text",defaultValue:1,placeholder:"Number 1,2,3"},r("sheet",{required:!0}))),Object(x.jsx)("br",{})," ",Object(x.jsx)("br",{}),Object(x.jsx)("label",{htmlFor:"category",children:"Category Cell (optional): "}),Object(x.jsx)("input",Object(j.a)({type:"text",defaultValue:"Service",placeholder:"Cell Name"},r("category"))),Object(x.jsx)("br",{})," ",Object(x.jsx)("br",{}),Object(x.jsx)("label",{htmlFor:"key",children:"Key Cell: "}),Object(x.jsx)("input",Object(j.a)({type:"text",defaultValue:"Key",placeholder:"Cell Name"},r("key",{required:!0}))),Object(x.jsx)("br",{})," ",Object(x.jsx)("br",{}),Object(x.jsx)("label",{htmlFor:"en",children:"EN Cell: "}),Object(x.jsx)("input",Object(j.a)({type:"text",defaultValue:"English",placeholder:"Cell Name"},r("en",{required:!0}))),Object(x.jsx)("label",{htmlFor:"ar",children:" AR Cell: "}),Object(x.jsx)("input",Object(j.a)({type:"text",defaultValue:"Arabic",placeholder:"Cell Name"},r("ar",{required:!0}))),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("input",Object(j.a)({type:"file",accept:".xlsx"},r("file",{required:!0}))),Object(x.jsx)("br",{})," ",Object(x.jsx)("br",{}),!E.a.isEmpty(s)&&Object(x.jsx)("div",{children:"Required Fields"}),Object(x.jsx)("input",{type:"submit",disabled:c})]})})]})},h=t(20),P=t(16),D=t(18),M=t.n(D),C=function(e){var _=e.excel,t=e.errorCodes,a=Object(r.useState)(!0),n=Object(l.a)(a,2),s=n[0],c=n[1],i=Object(r.useState)(),o=Object(l.a)(i,2),b=o[0],u=o[1],j=Object(r.useState)(),O=Object(l.a)(j,2),d=O[0],p=O[1],m=Object(r.useRef)(null);return Object(r.useEffect)((function(){c(!0);var e=Object(P.a)(_,t);u(e.inputObjectCopy),p(e.excelOnlyOutput),c(!1)}),[_,t]),Object(r.useLayoutEffect)((function(){s||m.current&&m.current.scrollIntoView({behavior:"smooth"})}),[s]),s?Object(x.jsx)("h3",{children:"We're cooking your translation!"}):Object(x.jsxs)("div",{ref:m,children:[Object(x.jsx)("h2",{children:"Step 3: Output"}),Object(x.jsx)("h4",{children:"Final Output"}),Object(x.jsxs)("p",{children:[Object(x.jsx)("b",{children:"Note:"})," Translations not found in Excel are kept AS IS"]}),Object(x.jsx)("textarea",{readOnly:!0,rows:30,value:M.a.stringify(b,{space:"\t"})}),Object(x.jsx)("p",{children:"[If interested] Translations found in Excel but NOT in your JSON:"}),Object(x.jsx)("textarea",{readOnly:!0,rows:30,value:M.a.stringify(d,{space:"\t"})})]})},g=function(){var e=Object(r.useState)(),_=Object(l.a)(e,2),t=_[0],a=_[1],n=Object(r.useState)(),s=Object(l.a)(n,2),c=s[0],i=s[1];return Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"The purpose of this script is to take two inputs (Excel file, JS object) and it will map and replace your english JS object translations with arabic ones from excel sheet."}),Object(x.jsx)("p",{children:Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:["Supports Up to 2 levels of nesting",Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:"1 level of nesting e.g (category: general)"}),Object(x.jsx)("li",{children:"2 levels of nesting e.g (category: general.yes)"})]})]}),Object(x.jsx)("li",{children:"Columns should be in row 0 in your excel sheet"}),Object(x.jsx)("li",{children:"Key names should be exact, a mistake found like (E80:) while the truth is (E80)"}),Object(x.jsx)("li",{children:"Category key should have correct order, within same row of first key relating to it or before it."}),Object(x.jsxs)("li",{children:["Mapping is done within same level, This won't work:"," ","{E10:error} with { errorCodes: {E10:error} }",""]})]})}),Object(x.jsx)(f,{setExcel:a}),Object(x.jsx)(h.a,{setInputObject:i}),t&&c&&Object(x.jsx)(C,{excel:t,errorCodes:c})]})},W=t(21),U=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{children:"The purpose of this script is to take JS Objects (en,ar) and it will generate new excel sheet."}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:"Supports Up to 2 levels of nesting"}),Object(x.jsx)("li",{children:"The reference is EN keys, i.e we will not add keys exist in Arabic but not in English in English"})]}),Object(x.jsx)(W.a,{})]})};var I=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Translate Al-Rajhi"}),Object(x.jsxs)(c.d,{children:[Object(x.jsxs)(c.b,{children:[Object(x.jsx)(c.a,{children:"Excel To JS"}),Object(x.jsx)(c.a,{children:"JS To Excel"})]}),Object(x.jsx)(c.c,{children:Object(x.jsx)(g,{})}),Object(x.jsx)(c.c,{children:Object(x.jsx)(U,{})})]})]})},v=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,48)).then((function(_){var t=_.getCLS,r=_.getFID,a=_.getFCP,n=_.getLCP,s=_.getTTFB;t(e),r(e),a(e),n(e),s(e)}))};s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(I,{})}),document.getElementById("root")),v()}},[[43,1,2]]]);
//# sourceMappingURL=main.b2ba0e1f.chunk.js.map