(this["webpackJsonptranslate-file"]=this["webpackJsonptranslate-file"]||[]).push([[0],{17:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Step2}));var C_Users_Ahmed_WebstormProjects_alrajhi_translate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),C_Users_Ahmed_WebstormProjects_alrajhi_translate_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),C_Users_Ahmed_WebstormProjects_alrajhi_translate_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(C_Users_Ahmed_WebstormProjects_alrajhi_translate_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),C_Users_Ahmed_WebstormProjects_alrajhi_translate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),react_hook_form__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__),Step2=function Step2(_ref){var setInputObject=_ref.setInputObject,_useForm=Object(react_hook_form__WEBPACK_IMPORTED_MODULE_4__.a)(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,_useForm$formState=_useForm.formState,errors=_useForm$formState.errors,isSubmitting=_useForm$formState.isSubmitting,onSubmit=function(){var _ref3=Object(C_Users_Ahmed_WebstormProjects_alrajhi_translate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(C_Users_Ahmed_WebstormProjects_alrajhi_translate_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(_ref2){var inputObject,en;return C_Users_Ahmed_WebstormProjects_alrajhi_translate_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:inputObject=_ref2.inputObject;try{eval("en ="+inputObject),setInputObject(en)}catch(e){console.log(e),alert(e)}case 2:case"end":return _context.stop()}}),_callee)})));return function(e){return _ref3.apply(this,arguments)}}();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("h2",{children:"Step 2: Input JS Object"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("p",{children:"We're going to eval() your object to our variable (let en)"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("form",{onSubmit:handleSubmit(onSubmit),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("textarea",Object(C_Users_Ahmed_WebstormProjects_alrajhi_translate_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({defaultValue:"{}",rows:30,style:{fontSize:"1rem",width:"80%"}},register("inputObject",{required:!0}))),errors.inputObject&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{children:"This field is required"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("input",{type:"submit",disabled:isSubmitting})]})]})}},22:function(e,t,r){},23:function(e,t,r){},34:function(e,t,r){"use strict";r.r(t);var _=r(1),a=r.n(_),n=r(15),s=r.n(n),c=(r(22),r(3)),l=(r(23),r(2)),o=r.n(l),i=r(6),b=r(4),j=r(5),u=r(7),O=r(36),d=r(12),p=r(9),h=r.n(p),m=r(0),x=function(e){var t=e.setExcel,r=Object(d.a)(),_=r.register,a=r.handleSubmit,n=r.formState,s=n.errors,c=n.isSubmitting,l=function(e){var t,r,_,a={},n=Object(u.a)(e);try{for(n.s();!(_=n.n()).done;){var s=_.value,c=s.category;if(c){var l=c.split(".");2===l.length?(t=l[0],r=l[1]):(t=c,r=null)}s.key&&(t&&r?a[t][r]=Object(j.a)(Object(j.a)({},a[t][r]),{},Object(b.a)({},s.key,{en:s.en,ar:s.ar})):t?a[t]=Object(j.a)(Object(j.a)({},a[t]),{},Object(b.a)({},s.key,{en:s.en,ar:s.ar})):a[s.key]=Object(j.a)(Object(j.a)({},a[s.key]),{},{en:s.en,ar:s.ar}))}}catch(o){n.e(o)}finally{n.f()}return a},x=function(){var e=Object(i.a)(o.a.mark((function e(r){var _,a,n,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(j.a)((_={},Object(b.a)(_,r.key,"key"),Object(b.a)(_,r.en,"en"),Object(b.a)(_,r.ar,"ar"),_),r.category&&Object(b.a)({},r.category,"category")),n=parseInt(r.sheet),e.next=5,Object(O.a)(r.file[0],{map:a,sheet:Object(p.isNaN)(n)?r.sheet:n});case 5:if(!(s=e.sent).errors.length){e.next=8;break}throw s.errors;case 8:console.log("parsed",s),c=l(s.rows),console.log("postProcessed",c),t(c),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),alert(e.t0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Step 1: Excel File"}),Object(m.jsx)("form",{onSubmit:a(x),children:Object(m.jsxs)("fieldset",{children:[Object(m.jsx)("legend",{children:"Data"}),Object(m.jsx)("label",{htmlFor:"sheet",children:"Sheet: "}),Object(m.jsx)("input",Object(j.a)({type:"text",defaultValue:1,placeholder:"Number 1,2,3"},_("sheet",{required:!0}))),Object(m.jsx)("br",{})," ",Object(m.jsx)("br",{}),Object(m.jsx)("label",{htmlFor:"category",children:"Category Cell (optional): "}),Object(m.jsx)("input",Object(j.a)({type:"text",defaultValue:"Service",placeholder:"Cell Name"},_("category"))),Object(m.jsx)("br",{})," ",Object(m.jsx)("br",{}),Object(m.jsx)("label",{htmlFor:"key",children:"Key Cell: "}),Object(m.jsx)("input",Object(j.a)({type:"text",defaultValue:"Key",placeholder:"Cell Name"},_("key",{required:!0}))),Object(m.jsx)("br",{})," ",Object(m.jsx)("br",{}),Object(m.jsx)("label",{htmlFor:"en",children:"EN Cell: "}),Object(m.jsx)("input",Object(j.a)({type:"text",defaultValue:"English",placeholder:"Cell Name"},_("en",{required:!0}))),Object(m.jsx)("label",{htmlFor:"ar",children:" AR Cell: "}),Object(m.jsx)("input",Object(j.a)({type:"text",defaultValue:"Arabic",placeholder:"Cell Name"},_("ar",{required:!0}))),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("input",Object(j.a)({type:"file",accept:".xlsx"},_("file",{required:!0}))),Object(m.jsx)("br",{})," ",Object(m.jsx)("br",{}),!h.a.isEmpty(s)&&Object(m.jsx)("div",{children:"Required Fields"}),Object(m.jsx)("input",{type:"submit",disabled:c})]})})]})},f=r(17),E=function(e,t,r,_){var a,n,s;(e[t]=null!==(a=e[t])&&void 0!==a?a:{},r)&&(e[t][r]=null!==(n=e[t][r])&&void 0!==n?n:{});_&&(e[t][r][_]=null!==(s=e[t][r][_])&&void 0!==s?s:{})},P=r(14),g=r.n(P),y=function(e){var t=e.excel,r=e.errorCodes,a=Object(_.useState)(!0),n=Object(c.a)(a,2),s=n[0],l=n[1],o=Object(_.useState)(),i=Object(c.a)(o,2),b=i[0],j=i[1],u=Object(_.useState)(),O=Object(c.a)(u,2),d=O[0],p=O[1],x=Object(_.useRef)(null);return Object(_.useEffect)((function(){l(!0);var e=function(e,t){console.log("Start Mapping inputObject",t);for(var r={},_=h.a.cloneDeep(t),a=0,n=Object.entries(e);a<n.length;a++){var s,l,o=Object(c.a)(n[a],2),i=o[0],b=o[1];if("en"in b)_[i]?_[i]=null!==(s=b.ar)&&void 0!==s?s:b.en:r[i]=null!==(l=b.ar)&&void 0!==l?l:b.en;else for(var j=0,u=Object.entries(b);j<u.length;j++){var O,d,p=Object(c.a)(u[j],2),m=p[0],x=p[1];if("en"in x)E(_,i),_[i][m]?_[i][m]=null!==(O=x.ar)&&void 0!==O?O:x.en:(E(r,i),r[i][m]=null!==(d=x.ar)&&void 0!==d?d:x.en);else for(var f=0,P=Object.entries(x);f<P.length;f++){var g,y,v=Object(c.a)(P[f],2),C=v[0],D=v[1];E(_,i,m),_[i][m][C]?_[i][m][C]=null!==(g=D.ar)&&void 0!==g?g:D.ar:(E(r,i,m),r[i][m][C]=null!==(y=D.ar)&&void 0!==y?y:x.en)}}}return console.log("result",_),console.log("not found",r),{errorCodesCopy:_,excelOnlyOutput:r}}(t,r);j(e.errorCodesCopy),p(e.excelOnlyOutput),l(!1)}),[t,r]),Object(_.useLayoutEffect)((function(){s||x.current&&x.current.scrollIntoView({behavior:"smooth"})}),[s]),s?Object(m.jsx)("h3",{children:"We're cooking your translation!"}):Object(m.jsxs)("div",{ref:x,children:[Object(m.jsx)("h2",{children:"Step 3: Output"}),Object(m.jsx)("h4",{children:"Final Output"}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Note:"})," Translations not found in Excel are kept AS IS"]}),Object(m.jsx)("textarea",{readOnly:!0,style:{fontSize:"1rem",width:"80%"},rows:30,value:g.a.stringify(b,{space:"\t"})}),Object(m.jsx)("p",{children:"[If interested] Translations found in Excel but NOT in your JSON:"}),Object(m.jsx)("textarea",{readOnly:!0,style:{fontSize:"1rem",width:"80%"},rows:30,value:g.a.stringify(d,{space:"\t"})})]})};var v=function(){var e=Object(_.useState)(),t=Object(c.a)(e,2),r=t[0],a=t[1],n=Object(_.useState)(),s=Object(c.a)(n,2),l=s[0],o=s[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Translate Al-Rajhi"}),Object(m.jsx)("p",{children:"The purpose of this script is to take two inputs (Excel file, JS object) and it will map and replace your english JS object translations with arabic ones from excel sheet"}),Object(m.jsx)("p",{children:Object(m.jsxs)("ul",{children:[Object(m.jsxs)("li",{children:["Supports Up to 2 levels of nesting",Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:"1 level of nesting e.g (category: general)"}),Object(m.jsx)("li",{children:"2 levels of nesting e.g (category: general.yes)"})]})]}),Object(m.jsx)("li",{children:"Columns should be in row 0 in your excel sheet"}),Object(m.jsx)("li",{children:"Key names should be exact, a mistake found like (E80:) while the truth is (E80)"}),Object(m.jsx)("li",{children:"Category key should have correct order, within same row of first key relating to it or before it."}),Object(m.jsxs)("li",{children:["Mapping is done within same level, This won't work:"," ","{E10:error} with { errorCodes: {E10:error} }",""]})]})}),Object(m.jsx)(x,{setExcel:a}),Object(m.jsx)(f.a,{setInputObject:o}),r&&l&&Object(m.jsx)(y,{excel:r,errorCodes:l})]})},C=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,37)).then((function(t){var r=t.getCLS,_=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;r(e),_(e),a(e),n(e),s(e)}))};s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(v,{})}),document.getElementById("root")),C()}},[[34,1,2]]]);
//# sourceMappingURL=main.f7adecf4.chunk.js.map